\hypertarget{init_8h}{}\section{src/init.h File Reference}
\label{init_8h}\index{src/init.\+h@{src/init.\+h}}
{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}log\+Interface.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}G\+P\+S\+Interface.\+h\char`\"{}}\\*
Include dependency graph for init.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{init_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{init_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{init_8h_ac7ef7e3f980b6e01955a54025c3b94df}{C\+O\+M\+M\+O\+N\+\_\+\+E\+R\+R\+\_\+\+S\+TR}~\char`\"{}Try geofence -\/h for help.\textbackslash{}n\char`\"{}
\item 
\#define \hyperlink{init_8h_aa8221631dbe4812db94ed9a6ace57c41}{A\+R\+G\+V\+\_\+\+E\+R\+R\+OR}~1
\item 
\#define \hyperlink{init_8h_aa74d57bc380ee8c7875de73d471c9440}{F\+O\+P\+E\+N\+\_\+\+F\+A\+IL}~2
\item 
\#define \hyperlink{init_8h_affe49ef15a95c80cf814797aed4c7297}{A\+R\+G\+V\+\_\+\+OK}~0
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{init_8h_a7a5113979d0ecd5e85fc6df200308c1d}{init} (\hyperlink{struct_g_p_s___actions}{G\+P\+S\+\_\+\+Actions} $\ast$G\+P\+S\+Handler, \hyperlink{struct_full_g_p_s_data}{Full\+G\+P\+S\+Data} $\ast$gps\+Data, \hyperlink{struct_zone__general}{Zone\+\_\+general} $\ast$zone, \hyperlink{struct_log___master}{Log\+\_\+\+Master} $\ast$\hyperlink{log_interface_8h_a8970fde3bc8decf8d30eaf4f3c2ce4ed}{log\+Master}, \hyperlink{struct_edge}{Edge} $\ast$$\ast$edges)
\begin{DoxyCompactList}\small\item\em Initialize some important stuff. \end{DoxyCompactList}\item 
void \hyperlink{init_8h_ac28005534dd7638d20979f2c625c72cd}{init\+\_\+platform\+\_\+specific\+\_\+modules} (void)
\begin{DoxyCompactList}\small\item\em calls function to initialize some stuff that works only on the Raspberry-\/\+Pi e.\+g the Wiring\+Pi library or Pi\+Face-\/cad exists only if \#ifdef W\+I\+R\+I\+N\+G\+PI \end{DoxyCompactList}\item 
void \hyperlink{init_8h_a81d274388eeddf9b5cddcf4a29af5b0b}{init\+\_\+gps\+\_\+data} (\hyperlink{struct_full_g_p_s_data}{Full\+G\+P\+S\+Data} $\ast$$\ast$gps\+Data)
\begin{DoxyCompactList}\small\item\em initializes the data pointed to by the {\ttfamily struct} pointer \end{DoxyCompactList}\item 
int \hyperlink{init_8h_a297ed12bb3b7c61cddbde204b712c786}{parse\+\_\+input\+\_\+args} (\hyperlink{struct_zone__general}{Zone\+\_\+general} $\ast$zone, int argc, char $\ast$$\ast$args)
\begin{DoxyCompactList}\small\item\em Receives argc, argv from main and parses that input. \end{DoxyCompactList}\item 
int \hyperlink{init_8h_a0b0b243b7207b2a9f0bb8789c4e9dc6d}{init\+\_\+geofence\+\_\+from\+\_\+argv} (\hyperlink{struct_zone__general}{Zone\+\_\+general} $\ast$zone, int argc, char $\ast$$\ast$args)
\begin{DoxyCompactList}\small\item\em initializes the geofence vertices etc from the argv. the format is xx.\+xxx,xx.\+xxx xx.\+xxx,xx.\+xxx ... etc \end{DoxyCompactList}\item 
int \hyperlink{init_8h_af33c0fcf492f7f9401681bb3be490423}{init\+\_\+geofence\+\_\+from\+\_\+file} (\hyperlink{struct_zone__general}{Zone\+\_\+general} $\ast$zone, char $\ast$$\ast$args)
\begin{DoxyCompactList}\small\item\em initializes the geofence vertices from the data that\textquotesingle{}s user-\/made file which is specified in argv \end{DoxyCompactList}\item 
void \hyperlink{init_8h_a3915bad191609e2ffced09336ee22027}{display\+\_\+help\+\_\+message} (void)
\begin{DoxyCompactList}\small\item\em Display the command-\/line usage statement. \end{DoxyCompactList}\item 
\hyperlink{struct_g_e_o___point}{G\+E\+O\+\_\+\+Point} \hyperlink{init_8h_a650f4dc11814bda87d60c84827874090}{parse\+\_\+line} (char $\ast$str)
\begin{DoxyCompactList}\small\item\em Parses a single line that contains vertex coordinates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
F\+I\+LE $\ast$ \hyperlink{init_8h_a7a9ef3013c9c75feae52a6c9a8b7eedb}{argv\+Input\+File}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{init.\+h@{init.\+h}!A\+R\+G\+V\+\_\+\+E\+R\+R\+OR@{A\+R\+G\+V\+\_\+\+E\+R\+R\+OR}}
\index{A\+R\+G\+V\+\_\+\+E\+R\+R\+OR@{A\+R\+G\+V\+\_\+\+E\+R\+R\+OR}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{A\+R\+G\+V\+\_\+\+E\+R\+R\+OR}{ARGV_ERROR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+R\+G\+V\+\_\+\+E\+R\+R\+OR~1}\hypertarget{init_8h_aa8221631dbe4812db94ed9a6ace57c41}{}\label{init_8h_aa8221631dbe4812db94ed9a6ace57c41}
\index{init.\+h@{init.\+h}!A\+R\+G\+V\+\_\+\+OK@{A\+R\+G\+V\+\_\+\+OK}}
\index{A\+R\+G\+V\+\_\+\+OK@{A\+R\+G\+V\+\_\+\+OK}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{A\+R\+G\+V\+\_\+\+OK}{ARGV_OK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+R\+G\+V\+\_\+\+OK~0}\hypertarget{init_8h_affe49ef15a95c80cf814797aed4c7297}{}\label{init_8h_affe49ef15a95c80cf814797aed4c7297}
\index{init.\+h@{init.\+h}!C\+O\+M\+M\+O\+N\+\_\+\+E\+R\+R\+\_\+\+S\+TR@{C\+O\+M\+M\+O\+N\+\_\+\+E\+R\+R\+\_\+\+S\+TR}}
\index{C\+O\+M\+M\+O\+N\+\_\+\+E\+R\+R\+\_\+\+S\+TR@{C\+O\+M\+M\+O\+N\+\_\+\+E\+R\+R\+\_\+\+S\+TR}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{C\+O\+M\+M\+O\+N\+\_\+\+E\+R\+R\+\_\+\+S\+TR}{COMMON_ERR_STR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+O\+M\+M\+O\+N\+\_\+\+E\+R\+R\+\_\+\+S\+TR~\char`\"{}Try geofence -\/h for help.\textbackslash{}n\char`\"{}}\hypertarget{init_8h_ac7ef7e3f980b6e01955a54025c3b94df}{}\label{init_8h_ac7ef7e3f980b6e01955a54025c3b94df}
\index{init.\+h@{init.\+h}!F\+O\+P\+E\+N\+\_\+\+F\+A\+IL@{F\+O\+P\+E\+N\+\_\+\+F\+A\+IL}}
\index{F\+O\+P\+E\+N\+\_\+\+F\+A\+IL@{F\+O\+P\+E\+N\+\_\+\+F\+A\+IL}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{F\+O\+P\+E\+N\+\_\+\+F\+A\+IL}{FOPEN_FAIL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+O\+P\+E\+N\+\_\+\+F\+A\+IL~2}\hypertarget{init_8h_aa74d57bc380ee8c7875de73d471c9440}{}\label{init_8h_aa74d57bc380ee8c7875de73d471c9440}


\subsection{Function Documentation}
\index{init.\+h@{init.\+h}!display\+\_\+help\+\_\+message@{display\+\_\+help\+\_\+message}}
\index{display\+\_\+help\+\_\+message@{display\+\_\+help\+\_\+message}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{display\+\_\+help\+\_\+message(void)}{display_help_message(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void display\+\_\+help\+\_\+message (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_a3915bad191609e2ffced09336ee22027}{}\label{init_8h_a3915bad191609e2ffced09336ee22027}


Display the command-\/line usage statement. 

\index{init.\+h@{init.\+h}!init@{init}}
\index{init@{init}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{init(\+G\+P\+S\+\_\+\+Actions $\ast$\+G\+P\+S\+Handler, Full\+G\+P\+S\+Data $\ast$gps\+Data, Zone\+\_\+general $\ast$zone, Log\+\_\+\+Master $\ast$log\+Master, Edge $\ast$$\ast$edges)}{init(GPS_Actions *GPSHandler, FullGPSData *gpsData, Zone_general *zone, Log_Master *logMaster, Edge **edges)}}]{\setlength{\rightskip}{0pt plus 5cm}void init (
\begin{DoxyParamCaption}
\item[{{\bf G\+P\+S\+\_\+\+Actions} $\ast$}]{G\+P\+S\+Handler, }
\item[{{\bf Full\+G\+P\+S\+Data} $\ast$}]{gps\+Data, }
\item[{{\bf Zone\+\_\+general} $\ast$}]{zone, }
\item[{{\bf Log\+\_\+\+Master} $\ast$}]{log\+Master, }
\item[{{\bf Edge} $\ast$$\ast$}]{edges}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_a7a5113979d0ecd5e85fc6df200308c1d}{}\label{init_8h_a7a5113979d0ecd5e85fc6df200308c1d}


Initialize some important stuff. 


\begin{DoxyParams}{Parameters}
{\em G\+P\+S\+Handler} & a pointer to a struct with function pointers to gps related functions. \\
\hline
{\em zone} & pointer to \hyperlink{struct_zone__general}{Zone\+\_\+general} strcut \\
\hline
{\em log\+Master} & pointer to \hyperlink{struct_log___master}{Log\+\_\+\+Master} struct \\
\hline
{\em edges} & double pointer to the \hyperlink{struct_edge}{Edge} struct. pointer to the array of edges of the polygon represented by zone. \\
\hline
\end{DoxyParams}
T\+O\+DO\+: Error checking and rv\index{init.\+h@{init.\+h}!init\+\_\+geofence\+\_\+from\+\_\+argv@{init\+\_\+geofence\+\_\+from\+\_\+argv}}
\index{init\+\_\+geofence\+\_\+from\+\_\+argv@{init\+\_\+geofence\+\_\+from\+\_\+argv}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{init\+\_\+geofence\+\_\+from\+\_\+argv(\+Zone\+\_\+general $\ast$zone, int argc, char $\ast$$\ast$args)}{init_geofence_from_argv(Zone_general *zone, int argc, char **args)}}]{\setlength{\rightskip}{0pt plus 5cm}int init\+\_\+geofence\+\_\+from\+\_\+argv (
\begin{DoxyParamCaption}
\item[{{\bf Zone\+\_\+general} $\ast$}]{zone, }
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{args}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_a0b0b243b7207b2a9f0bb8789c4e9dc6d}{}\label{init_8h_a0b0b243b7207b2a9f0bb8789c4e9dc6d}


initializes the geofence vertices etc from the argv. the format is xx.\+xxx,xx.\+xxx xx.\+xxx,xx.\+xxx ... etc 


\begin{DoxyParams}{Parameters}
{\em zone} & pointer to a \hyperlink{struct_zone__general}{Zone\+\_\+general} struct \\
\hline
{\em argc} & argc \\
\hline
{\em args} & argv\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
one of the error/success codes defined in \hyperlink{init_8h}{init.\+h} 
\end{DoxyReturn}
\index{init.\+h@{init.\+h}!init\+\_\+geofence\+\_\+from\+\_\+file@{init\+\_\+geofence\+\_\+from\+\_\+file}}
\index{init\+\_\+geofence\+\_\+from\+\_\+file@{init\+\_\+geofence\+\_\+from\+\_\+file}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{init\+\_\+geofence\+\_\+from\+\_\+file(\+Zone\+\_\+general $\ast$zone, char $\ast$$\ast$args)}{init_geofence_from_file(Zone_general *zone, char **args)}}]{\setlength{\rightskip}{0pt plus 5cm}int init\+\_\+geofence\+\_\+from\+\_\+file (
\begin{DoxyParamCaption}
\item[{{\bf Zone\+\_\+general} $\ast$}]{zone, }
\item[{char $\ast$$\ast$}]{args}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_af33c0fcf492f7f9401681bb3be490423}{}\label{init_8h_af33c0fcf492f7f9401681bb3be490423}


initializes the geofence vertices from the data that\textquotesingle{}s user-\/made file which is specified in argv 


\begin{DoxyParams}{Parameters}
{\em zone} & pointer to a \hyperlink{struct_zone__general}{Zone\+\_\+general} struct \\
\hline
{\em args} & argv\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
one of the error/success codes defined in \hyperlink{init_8h}{init.\+h} 
\end{DoxyReturn}
T\+O\+DO\+: proper error checking T\+O\+DO\+: throw an error if geofence in file consists of less than 3 polygons. Add support for a circle geofence (essentialy a cylinder cuz height).\index{init.\+h@{init.\+h}!init\+\_\+gps\+\_\+data@{init\+\_\+gps\+\_\+data}}
\index{init\+\_\+gps\+\_\+data@{init\+\_\+gps\+\_\+data}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{init\+\_\+gps\+\_\+data(\+Full\+G\+P\+S\+Data $\ast$$\ast$gps\+Data)}{init_gps_data(FullGPSData **gpsData)}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+gps\+\_\+data (
\begin{DoxyParamCaption}
\item[{{\bf Full\+G\+P\+S\+Data} $\ast$$\ast$}]{gps\+Data}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_a81d274388eeddf9b5cddcf4a29af5b0b}{}\label{init_8h_a81d274388eeddf9b5cddcf4a29af5b0b}


initializes the data pointed to by the {\ttfamily struct} pointer 


\begin{DoxyParams}{Parameters}
{\em gps\+Data} & double pointer to the data \\
\hline
\end{DoxyParams}
\index{init.\+h@{init.\+h}!init\+\_\+platform\+\_\+specific\+\_\+modules@{init\+\_\+platform\+\_\+specific\+\_\+modules}}
\index{init\+\_\+platform\+\_\+specific\+\_\+modules@{init\+\_\+platform\+\_\+specific\+\_\+modules}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{init\+\_\+platform\+\_\+specific\+\_\+modules(void)}{init_platform_specific_modules(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+platform\+\_\+specific\+\_\+modules (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_ac28005534dd7638d20979f2c625c72cd}{}\label{init_8h_ac28005534dd7638d20979f2c625c72cd}


calls function to initialize some stuff that works only on the Raspberry-\/\+Pi e.\+g the Wiring\+Pi library or Pi\+Face-\/cad exists only if \#ifdef W\+I\+R\+I\+N\+G\+PI 

\index{init.\+h@{init.\+h}!parse\+\_\+input\+\_\+args@{parse\+\_\+input\+\_\+args}}
\index{parse\+\_\+input\+\_\+args@{parse\+\_\+input\+\_\+args}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{parse\+\_\+input\+\_\+args(\+Zone\+\_\+general $\ast$zone, int argc, char $\ast$$\ast$args)}{parse_input_args(Zone_general *zone, int argc, char **args)}}]{\setlength{\rightskip}{0pt plus 5cm}int parse\+\_\+input\+\_\+args (
\begin{DoxyParamCaption}
\item[{{\bf Zone\+\_\+general} $\ast$}]{zone, }
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{args}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_a297ed12bb3b7c61cddbde204b712c786}{}\label{init_8h_a297ed12bb3b7c61cddbde204b712c786}


Receives argc, argv from main and parses that input. 


\begin{DoxyParams}[1]{Parameters}
 & {\em zone} & A struct with the geofence information (polygon, count, etc.) \\
\hline
\mbox{\tt in}  & {\em argc} & argc \\
\hline
 & {\em args} & argv. should contain the name of the file with the inputs. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns different exit codes (defined in \hyperlink{init_8h}{init.\+h}) depending on the situation. 
\end{DoxyReturn}
T\+O\+DO\+: error checking\index{init.\+h@{init.\+h}!parse\+\_\+line@{parse\+\_\+line}}
\index{parse\+\_\+line@{parse\+\_\+line}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{parse\+\_\+line(char $\ast$str)}{parse_line(char *str)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf G\+E\+O\+\_\+\+Point} parse\+\_\+line (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}\hypertarget{init_8h_a650f4dc11814bda87d60c84827874090}{}\label{init_8h_a650f4dc11814bda87d60c84827874090}


Parses a single line that contains vertex coordinates. 


\begin{DoxyParams}{Parameters}
{\em str} & the line of text that is read from the input file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns a struct of the point, initialized with the coordinates from the line. 
\end{DoxyReturn}


\subsection{Variable Documentation}
\index{init.\+h@{init.\+h}!argv\+Input\+File@{argv\+Input\+File}}
\index{argv\+Input\+File@{argv\+Input\+File}!init.\+h@{init.\+h}}
\subsubsection[{\texorpdfstring{argv\+Input\+File}{argvInputFile}}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+LE$\ast$ argv\+Input\+File}\hypertarget{init_8h_a7a9ef3013c9c75feae52a6c9a8b7eedb}{}\label{init_8h_a7a9ef3013c9c75feae52a6c9a8b7eedb}
